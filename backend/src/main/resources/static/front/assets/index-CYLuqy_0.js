import{P as $}from"./ProductItem-CdB0pNCu.js";import{I as C,J as B,d as x,r as g,s as P,e as L,o as s,c as a,f as c,g as h,h as S,j as n,F as b,i as A,m as w,D as q,t as I,l as z,p as F,q as j,_ as D,x as E,w as J}from"./index-HA-C2-6D.js";import{u as M}from"./product-D8YxKEZy.js";import"./index-DGXBQUQK.js";import"./cart-4v3HBVN5.js";const O=()=>C.get("/product/getBaseCategoryList");let V=B("category",{state:()=>({c1List:[],c2List:[],category1Id:"",category2Id:""}),actions:{async getC1(){const t=await O();t.code==200&&(this.c1List=t.data)}}});const T=t=>(F("data-v-ea8303d0"),t=t(),j(),t),G={class:"shop_sidebar_area"},H={class:"widget catagory mb-50"},K=T(()=>c("h6",{class:"widget-title mb-30"},"Catagories",-1)),Q={class:"catagories-menu"},R={key:0,class:"widget brands mb-50"},U={class:"widget-title mb-30"},W={class:"widget-desc"},X=x({__name:"ProductFilter",props:["baseAttrAndValue"],emits:["allList"],setup(t,{emit:r}){let _=g(null),i=V();g("");let u=g(""),f=r;P(()=>{v()});const v=()=>{i.getC1()},p={children:"category2List",label:"categoryName"},k=async l=>{_.value=l,console.log(l,"=========="),l.level?u.value="":(u.value=l.id,i.category1Id=l.category1Id),i.category2Id=u.value},m=()=>{_.value=null,f("allList")};return(l,N)=>{const e=L("el-tree"),y=L("base-badge");return s(),a("div",G,[c("div",H,[K,c("div",Q,[c("button",{id:"btn",onClick:m},"all"),h(e,{style:{"max-width":"600px",background:"none"},data:n(i).c1List,props:p,onNodeClick:k},{default:S(({node:o,data:d})=>[c("div",{class:q({"selected-node":d===n(_)})},I(o.label),3)]),_:1},8,["data"])])]),t.baseAttrAndValue?(s(!0),a(b,{key:0},A(t.baseAttrAndValue,o=>(s(),a(b,{key:o.id},[o.attrName!="color"&&o.attrValueList.length>0?(s(),a("div",R,[c("h6",U,I(o.attrName),1),c("div",W,[(s(!0),a(b,null,A(o.attrValueList,d=>(s(),a("div",{class:"form-check",key:d.id},[h(y,null,{default:S(()=>[z(I(d.valueName),1)]),_:2},1024)]))),128))])])):w("",!0)],64))),128)):w("",!0)])}}}),Y=D(X,[["__scopeId","data-v-ea8303d0"]]),Z=(t,r)=>C.get(`/product/getBaseAttrList/${t}/${r}`),ee={class:"amado_product_area section-padding-100"},te={key:0,class:"container-fluid"},se={class:"row"},ae={key:1,class:"container-fluid"},ne=x({__name:"index",setup(t){let r=g(1),_=g(8),i=g([]),u=E({category1Id:"",category2Id:"",keyword:"",order:"1:desc"}),f=g(!1),v=V(),p=M();P(()=>{m()}),J(()=>v.category2Id,(e,y)=>{e!=y&&e!=""&&(u.category2Id=e,m(),k())});const k=async()=>{const e=await Z(v.category1Id,v.category2Id);i.value=e.data.length>0?e.data:[]},m=async(e=1)=>{f.value=!0,r.value=e,await p.getSkuList(r.value,_.value,u)},l=e=>{m(e)},N=()=>{r.value=1,Object.assign(u,{category1Id:"",category2Id:"",keyword:"",order:"1:desc"}),m()};return(e,y)=>{const o=L("PageNation");return s(),a(b,null,[h(Y,{baseAttrAndValue:n(i),onAllList:y[0]||(y[0]=d=>N())},null,8,["baseAttrAndValue"]),c("div",ee,[n(p).skuList.length>0?(s(),a("div",te,[c("div",se,[(s(!0),a(b,null,A(n(p).skuList,d=>(s(),a("div",{class:"col-12 col-sm-6 col-md-12 col-xl-6",key:d.id},[h($,{sku:d},null,8,["sku"])]))),128))]),h(o,{pageNo:n(r),total:n(p).total,pageSize:n(_),onSetPageNo:l},null,8,["pageNo","total","pageSize"])])):(s(),a("div",ae," 없음 "))])],64)}}});export{ne as default};
