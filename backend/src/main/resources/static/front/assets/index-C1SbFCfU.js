import{d as S,r as I,u as N,e as C,o as M,c as U,f as t,y as i,z as _,j as s,A as f,t as g,g as v,h as V,B as T,C as E,k as P,l as x,p as q,q as D,E as h,n as L,_ as R}from"./index-HA-C2-6D.js";import{u as $}from"./useValidation-C836bYB3.js";const l=r=>(q("data-v-6343b803"),r=r(),D(),r),j={id:"loginBox"},z=l(()=>t("div",{id:"loginBoxTitle"},"Uno984 Login",-1)),A={id:"inputBox"},F={class:"input-form-box"},G=l(()=>t("span",null,"아이디 ",-1)),H={class:"input-form-box"},J=l(()=>t("span",null,"비밀번호 ",-1)),K={class:"button-login-box"},O=S({__name:"index",setup(r){I(!1);let u=N(),w=E(),B=P();const{password:o,userName:a,checkPassword:d,checkuserName:p,enteredInput:b,inputValid:y}=$(),k=async()=>{if(b(a.value,o.value),y.value)return h({type:"error",message:"아이디, 비밀번호 입력하세요"}),!1;const c={userName:a.value.inputValue,password:o.value.inputValue};try{await u.userLogin(c),L(()=>{u.getUserInfo();let e=w.query.redirect||"/";B.push(e)})}catch(e){h({type:"error",message:e.message}),a.value.inputValue="",o.value.inputValue=""}};return(c,e)=>{const m=C("base-button");return M(),U("div",j,[z,t("div",A,[t("div",F,[G,i(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[0]||(e[0]=n=>s(a).inputValue=n),onBlur:e[1]||(e[1]=(...n)=>s(p)&&s(p)(...n))},null,544),[[_,s(a).inputValue]])]),i(t("span",{class:"error-msg"},g(s(a).errorMsg),513),[[f,s(a).isValid]]),t("div",H,[J,i(t("input",{type:"password",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=n=>s(o).inputValue=n),onBlur:e[3]||(e[3]=(...n)=>s(d)&&s(d)(...n))},null,544),[[_,s(o).inputValue]])]),i(t("span",{class:"error-msg"},g(s(o).errorMsg),513),[[f,s(o).isValid]]),t("div",K,[v(m,{onClick:T(k,["prevent"]),mode:"sigBtn",style:{color:"white"}},{default:V(()=>[x("로그인")]),_:1}),v(m,{link:"",mode:"sigBtn",to:{path:"/sigin"}},{default:V(()=>[x("회원가입")]),_:1})])])])}}}),X=R(O,[["__scopeId","data-v-6343b803"]]);export{X as default};
